{"ast":null,"code":"import { APIClient } from \"api/client\";\n/**\n * Fetches based on the given request method and body (optional)\n * @param {string} url - Url to send the request to\n * @param {string} method - HTTP method (GET|POST|PUT|DELETE)\n * @param {Object} body - Options you want to pass to the request\n * @param {function} triggerLoading - Callback triggered when the request is being sent. (Usage: Loading Animations)\n * @param {function} onSuccess - Callback triggered when the request is successful\n * @param {function} onFail - Callback triggered when the request is not successful\n */\n\nexport const usePost = ({\n  url,\n  body,\n  triggerLoading,\n  onSuccess,\n  onFail\n}) => {\n  const doFetch = async () => {\n    try {\n      if (triggerLoading) {\n        triggerLoading(true);\n      }\n\n      const client = APIClient();\n      const {\n        data\n      } = await client.post(url, body);\n\n      if (onSuccess) {\n        onSuccess(data);\n      }\n\n      return {\n        data\n      };\n    } catch (err) {\n      setTimeout(() => {\n        if (triggerLoading) {\n          triggerLoading(false);\n        }\n\n        if (onFail) {\n          onFail();\n        }\n      }, 2000);\n    }\n  };\n\n  return doFetch;\n};","map":null,"metadata":{},"sourceType":"module"}