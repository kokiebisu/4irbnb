{"ast":null,"code":"import _regeneratorRuntime from \"@babel/runtime/regenerator\";\nimport _asyncToGenerator from \"@babel/runtime/helpers/esm/asyncToGenerator\";\nimport { Fragment as _Fragment } from \"react/jsx-runtime\";\nimport { jsxs as _jsxs } from \"react/jsx-runtime\";\nimport { jsx as _jsx } from \"react/jsx-runtime\";\nimport React from \"react\";\nimport { AnimatePresence, motion } from \"framer-motion\";\n/* contents */\n\nimport { categories, anywhere } from \"../content\";\n/** contexts */\n\nimport { useToggleState } from \"../context/toggle\";\n/** styles */\n\nimport index from \"@styles/index.module.scss\";\nimport layout from \"@styles/layout.module.scss\";\nimport space from \"@styles/space.module.scss\";\nimport color from \"@styles/color.module.scss\";\nimport shape from \"@styles/shape.module.scss\";\n/** data */\n\nimport { nearbyItems } from \"@content\";\n/** layout */\n\nimport { Layout } from \"@layout\";\n/** components */\n\nimport { Animation } from \"@animation/animation.component\";\nimport { Modal } from \"@modal\";\nimport { Template } from \"@template/index\";\nimport { Footer } from \"@footer\";\nimport { Bar } from \"@bar\";\n/** hooks */\n\nimport { useHandleScroll } from \"@hooks/useHandleScroll\";\nimport { useHandleDocumentResize } from \"@hooks/useHandleDocumentResize\";\nimport { useTimeout } from \"@hooks/useTimeout\";\nimport { useTabTitle } from \"@hooks/useTabTitle\";\n/** helper */\n\nimport { APIClient } from \"../api/client\";\n\nvar LandingPage = function LandingPage(_ref) {\n  var currentUser = _ref.currentUser;\n  useTabTitle(\"Vacation Rentals, Homes, Experiences & Places - Airbnb\");\n  var loading = useTimeout(3000);\n  var toggleState = useToggleState();\n  var scrollPosition = useHandleScroll();\n  var pageHeight = useHandleDocumentResize();\n  return /*#__PURE__*/_jsx(\"div\", {\n    style: {\n      overflowX: \"hidden\"\n    },\n    className: [layout[\"relative\"], shape[\"min-h--fullv\"]].join(\" \"),\n    children: /*#__PURE__*/_jsxs(\"div\", {\n      children: [/*#__PURE__*/_jsx(\"div\", {\n        children: /*#__PURE__*/_jsx(Bar, {\n          variant: \"covid\"\n        })\n      }), /*#__PURE__*/_jsx(Template, {\n        variant: \"banner\",\n        data: currentUser || null\n      }), loading ? /*#__PURE__*/_jsxs(_Fragment, {\n        children: [/*#__PURE__*/_jsx(Layout, {\n          variant: \"landing\",\n          spread: true,\n          children: /*#__PURE__*/_jsx(Template, {\n            variant: \"nearby\",\n            items: nearbyItems\n          })\n        }), /*#__PURE__*/_jsx(Layout, {\n          variant: \"landing\",\n          title: \"Live anywhere\",\n          spread: true,\n          children: /*#__PURE__*/_jsx(Template, {\n            variant: \"anywhere\",\n            items: anywhere\n          })\n        }), /*#__PURE__*/_jsx(\"div\", {\n          className: space[\"m-v--32\"]\n        }), /*#__PURE__*/_jsx(Layout, {\n          dark: true,\n          spread: true,\n          variant: \"landing\",\n          title: \"Meet Online Experiences\",\n          subtitle: \"Interactive activities you can do together, led by expert hosts.\",\n          children: /*#__PURE__*/_jsx(Template, {\n            variant: \"online\",\n            sectionType: \"landing\",\n            dark: true\n          })\n        }), /*#__PURE__*/_jsx(Layout, {\n          variant: \"landing\",\n          spread: true,\n          title: \"Join millions of hosts on Airbnb\",\n          children: /*#__PURE__*/_jsx(Template, {\n            variant: \"category\",\n            items: categories\n          })\n        })]\n      }) : /*#__PURE__*/_jsx(\"div\", {\n        className: [space[\"m-v--22\"], layout[\"flex\"], layout[\"items-center\"], layout[\"justify-center\"]].join(\" \"),\n        children: /*#__PURE__*/_jsx(Animation, {\n          type: \"loading\",\n          dark: true\n        })\n      }), /*#__PURE__*/_jsx(Footer, {\n        spread: true\n      }), /*#__PURE__*/_jsx(\"div\", {\n        style: {\n          position: \"fixed\",\n          width: \"100%\",\n          zIndex: 50\n        },\n        className: [layout[\"fb--0\"], layout[\"flex\"], layout[\"justify-center\"]].join(\" \"),\n        children: /*#__PURE__*/_jsx(\"div\", {\n          className: [index[\"m__privacy\"]].join(\" \"),\n          children: /*#__PURE__*/_jsx(Modal, {\n            variant: \"privacy\",\n            criteria: toggleState.privacy,\n            animate: \"slideup\"\n          })\n        })\n      }), /*#__PURE__*/_jsx(AnimatePresence, {\n        children: scrollPosition < pageHeight && /*#__PURE__*/_jsx(motion.div, {\n          animate: {\n            y: 0\n          },\n          exit: {\n            y: 60\n          },\n          initial: {\n            y: 0\n          },\n          transition: {\n            duration: 0.5\n          },\n          className: index[\"none__menubar\"],\n          children: /*#__PURE__*/_jsx(\"div\", {\n            className: [layout[\"fixed\"], shape[\"w--full\"]].join(\" \"),\n            style: {\n              zIndex: 30,\n              bottom: 0\n            },\n            children: /*#__PURE__*/_jsx(Bar, {\n              variant: \"menu\",\n              extendsTo: [color[\"b-t--white__2\"]].join(\" \")\n            })\n          })\n        })\n      }), toggleState.auth && /*#__PURE__*/_jsx(\"div\", {\n        style: {\n          position: \"fixed\",\n          zIndex: 60,\n          bottom: 0,\n          left: 0,\n          right: 0,\n          top: 0,\n          backgroundColor: \"rgba(0, 0, 0, 0.6)\"\n        },\n        children: /*#__PURE__*/_jsx(\"div\", {\n          className: [layout[\"flex\"], layout[\"justify-center\"], layout[\"items-center\"], shape[\"h--100v\"]].join(\" \"),\n          children: /*#__PURE__*/_jsx(Modal, {\n            variant: \"auth\",\n            animate: \"slideup\",\n            criteria: toggleState.auth,\n            lock: true\n          })\n        })\n      }), toggleState.globe && /*#__PURE__*/_jsx(\"div\", {\n        style: {\n          position: \"fixed\",\n          zIndex: 60,\n          bottom: 0,\n          left: 0,\n          right: 0,\n          top: 0,\n          backgroundColor: \"rgba(0, 0, 0, 0.6)\"\n        },\n        children: /*#__PURE__*/_jsx(\"div\", {\n          className: [layout[\"flex\"], layout[\"justify-center\"], layout[\"items-center\"], shape[\"h--100v\"]].join(\" \"),\n          children: /*#__PURE__*/_jsx(Modal, {\n            variant: \"globe\",\n            extendsTo: [shape[\"w--full\"], shape[\"h--full\"], space[\"p--40\"], shape[\"max-w--1100\"]].join(\" \"),\n            animate: \"slideup\",\n            criteria: toggleState.globe,\n            lock: true\n          })\n        })\n      })]\n    })\n  });\n};\n\nLandingPage.getInitialProps = /*#__PURE__*/function () {\n  var _ref2 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee(context) {\n    var client, response;\n    return _regeneratorRuntime.wrap(function _callee$(_context) {\n      while (1) {\n        switch (_context.prev = _context.next) {\n          case 0:\n            client = APIClient(context);\n            _context.prev = 1;\n            _context.next = 4;\n            return client.get(\"/api/users/currentuser\");\n\n          case 4:\n            response = _context.sent;\n            return _context.abrupt(\"return\", response.data);\n\n          case 8:\n            _context.prev = 8;\n            _context.t0 = _context[\"catch\"](1);\n            return _context.abrupt(\"return\", {});\n\n          case 11:\n          case \"end\":\n            return _context.stop();\n        }\n      }\n    }, _callee, null, [[1, 8]]);\n  }));\n\n  return function (_x) {\n    return _ref2.apply(this, arguments);\n  };\n}();\n\nexport default LandingPage;","map":null,"metadata":{},"sourceType":"module"}