{"ast":null,"code":"import _regeneratorRuntime from \"@babel/runtime/regenerator\";\nimport _asyncToGenerator from \"@babel/runtime/helpers/esm/asyncToGenerator\";\nimport { jsxs as _jsxs } from \"react/jsx-runtime\";\nimport { jsx as _jsx } from \"react/jsx-runtime\";\nimport { useState } from \"react\";\nimport { useFormik } from \"formik\";\nimport Router from \"next/router\";\n/** styles **/\n\nimport space from \"@styles/space.module.scss\";\nimport font from \"@styles/font.module.scss\";\nimport layout from \"@styles/layout.module.scss\";\nimport color from \"@styles/color.module.scss\";\n/** components */\n\nimport { Input } from \"@input\";\nimport { Button } from \"@button\";\nimport { Bullet } from \"@bullet\";\n/** Helper */\n\nimport { validateSignup as validate } from \"@helper/auth\";\n/** hooks */\n\nimport { usePost } from \"@hooks/usePost\";\n/** contexts */\n\nimport { useAuthDispatch } from \"@context/auth\";\n/**\n * Renders the signup template component\n */\n\nexport var SignupTemplate = function SignupTemplate() {\n  var authDispatch = useAuthDispatch();\n\n  var _useState = useState(false),\n      loading = _useState[0],\n      setLoading = _useState[1];\n\n  var formik = useFormik({\n    initialValues: {\n      firstname: \"\",\n      lastname: \"\",\n      day: \"\",\n      month: \"\",\n      year: \"\",\n      email: \"\",\n      password: \"\"\n    },\n    validate: validate,\n    onSubmit: function () {\n      var _onSubmit = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee(values) {\n        var submit;\n        return _regeneratorRuntime.wrap(function _callee$(_context) {\n          while (1) {\n            switch (_context.prev = _context.next) {\n              case 0:\n                _context.next = 2;\n                return usePost({\n                  url: \"/api/users/signup\",\n                  body: values,\n                  triggerLoading: function triggerLoading(state) {\n                    setLoading(state);\n                  },\n                  onSuccess: function onSuccess() {\n                    Router.reload();\n                  },\n                  onFail: function onFail() {\n                    authDispatch({\n                      type: \"exists\"\n                    });\n                  }\n                });\n\n              case 2:\n                submit = _context.sent;\n                _context.next = 5;\n                return submit();\n\n              case 5:\n              case \"end\":\n                return _context.stop();\n            }\n          }\n        }, _callee);\n      }));\n\n      function onSubmit(_x) {\n        return _onSubmit.apply(this, arguments);\n      }\n\n      return onSubmit;\n    }()\n  });\n  return /*#__PURE__*/_jsx(\"form\", {\n    onSubmit: formik.handleSubmit,\n    children: /*#__PURE__*/_jsxs(\"div\", {\n      className: [space[\"p--24\"]].join(\" \"),\n      children: [/*#__PURE__*/_jsxs(\"div\", {\n        children: [/*#__PURE__*/_jsx(Input, {\n          variant: \"name\",\n          direction: \"bottom\",\n          name: \"firstname\",\n          errors: formik.errors.firstname !== undefined,\n          handleChange: formik.handleChange,\n          value: formik.values.firstname\n        }), /*#__PURE__*/_jsx(Input, {\n          variant: \"name\",\n          direction: \"top\",\n          name: \"lastname\",\n          errors: formik.errors.lastname !== undefined,\n          handleChange: formik.handleChange,\n          value: formik.values.lastname\n        }), /*#__PURE__*/_jsx(\"div\", {\n          children: formik.errors.firstname !== undefined ? /*#__PURE__*/_jsx(\"div\", {\n            className: [space[\"m-t--6\"]].join(\" \"),\n            children: /*#__PURE__*/_jsx(Bullet, {\n              variant: \"required\",\n              message: formik.errors.firstname\n            })\n          }) : null\n        }), /*#__PURE__*/_jsx(\"div\", {\n          children: formik.errors.lastname !== undefined ? /*#__PURE__*/_jsx(\"div\", {\n            className: [space[\"m-t--6\"]].join(\" \"),\n            children: /*#__PURE__*/_jsx(Bullet, {\n              variant: \"required\",\n              message: formik.errors.lastname\n            })\n          }) : null\n        }), /*#__PURE__*/_jsx(\"div\", {\n          children: formik.errors.firstname === undefined && formik.errors.lastname === undefined && /*#__PURE__*/_jsx(\"p\", {\n            className: [space[\"m-t--8\"], font[\"size--11\"], color[\"c--gray__1\"]].join(\" \"),\n            children: \"Make sure it matches the name on your government ID.\"\n          })\n        })]\n      }), /*#__PURE__*/_jsxs(\"div\", {\n        className: [space[\"m-t--22\"]].join(\" \"),\n        children: [/*#__PURE__*/_jsxs(\"div\", {\n          style: {\n            border: \"1px solid gray\",\n            borderRadius: 14\n          },\n          className: [layout[\"flex\"]].join(\" \"),\n          children: [/*#__PURE__*/_jsx(Input, {\n            spread: true,\n            dateType: \"day\",\n            variant: \"birthdate\",\n            direction: \"left\",\n            handleChange: formik.handleChange,\n            value: formik.values.day,\n            errors: formik.errors.year !== undefined\n          }), /*#__PURE__*/_jsx(Input, {\n            spread: true,\n            dateType: \"month\",\n            variant: \"birthdate\",\n            direction: \"center\",\n            handleChange: formik.handleChange,\n            value: formik.values.month,\n            errors: formik.errors.year !== undefined\n          }), /*#__PURE__*/_jsx(Input, {\n            spread: true,\n            dateType: \"year\",\n            variant: \"birthdate\",\n            direction: \"right\",\n            handleChange: formik.handleChange,\n            value: formik.values.year,\n            errors: formik.errors.year !== undefined\n          })]\n        }), formik.errors.day !== undefined && /*#__PURE__*/_jsx(\"div\", {\n          className: [space[\"m-t--6\"]].join(\" \"),\n          children: /*#__PURE__*/_jsx(Bullet, {\n            variant: \"required\",\n            message: formik.errors.day\n          })\n        }), formik.errors.month !== undefined && /*#__PURE__*/_jsx(\"div\", {\n          className: [space[\"m-t--6\"]].join(\" \"),\n          children: /*#__PURE__*/_jsx(Bullet, {\n            variant: \"required\",\n            message: formik.errors.month\n          })\n        }), formik.errors.year !== undefined && /*#__PURE__*/_jsx(\"div\", {\n          className: [space[\"m-t--6\"]].join(\" \"),\n          children: /*#__PURE__*/_jsx(Bullet, {\n            variant: \"required\",\n            message: formik.errors.year\n          })\n        })]\n      }), formik.errors.day !== undefined && formik.errors.month !== undefined && formik.errors.year !== undefined && /*#__PURE__*/_jsx(\"p\", {\n        className: [space[\"m-t--8\"], font[\"size--11\"], color[\"c--gray__1\"]].join(\" \"),\n        children: \"To sign up, you need to be at least 18. Your birthday won't be shared with other people who use Airbnb.\"\n      }), /*#__PURE__*/_jsxs(\"div\", {\n        className: [space[\"m-t--22\"]].join(\" \"),\n        children: [/*#__PURE__*/_jsx(\"div\", {\n          children: /*#__PURE__*/_jsx(Input, {\n            variant: \"email\",\n            handleChange: formik.handleChange,\n            value: formik.values.email,\n            errors: formik.errors.email !== undefined\n          })\n        }), /*#__PURE__*/_jsx(\"div\", {\n          children: formik.errors.email !== undefined ? /*#__PURE__*/_jsx(\"div\", {\n            className: [space[\"m-t--6\"]].join(\" \"),\n            children: /*#__PURE__*/_jsx(Bullet, {\n              variant: \"required\",\n              message: formik.errors.email\n            })\n          }) : /*#__PURE__*/_jsx(\"p\", {\n            className: [space[\"m-t--8\"], font[\"size--11\"], color[\"c--gray__1\"]].join(\" \"),\n            children: \"We'll email you trip confirmations and receipts\"\n          })\n        })]\n      }), /*#__PURE__*/_jsxs(\"div\", {\n        className: [space[\"m-t--22\"]].join(\" \"),\n        children: [/*#__PURE__*/_jsx(\"div\", {\n          children: /*#__PURE__*/_jsx(Input, {\n            variant: \"password\",\n            handleChange: formik.handleChange,\n            value: formik.values.password,\n            errors: formik.errors.password !== undefined\n          })\n        }), /*#__PURE__*/_jsx(\"div\", {\n          children: formik.errors.password !== undefined && /*#__PURE__*/_jsx(\"div\", {\n            className: [space[\"m-t--6\"]].join(\" \"),\n            children: /*#__PURE__*/_jsx(Bullet, {\n              variant: \"required\",\n              message: formik.errors.password\n            })\n          })\n        })]\n      }), /*#__PURE__*/_jsx(\"div\", {\n        children: /*#__PURE__*/_jsxs(\"p\", {\n          className: [space[\"m-t--22\"], font[\"size--11\"], color[\"c--gray__1\"]].join(\" \"),\n          children: [\"By selecting \", /*#__PURE__*/_jsx(\"b\", {\n            children: \"Agree and continue\"\n          }), \" below, I agree to Airbnb's\", \" \", /*#__PURE__*/_jsx(\"u\", {\n            className: [font[\"weight--500\"]].join(\" \"),\n            style: {\n              color: \"#1B4CC4\"\n            },\n            children: \"Terms of Service\"\n          }), \",\", \" \", /*#__PURE__*/_jsx(\"u\", {\n            className: [font[\"weight--500\"]].join(\" \"),\n            style: {\n              color: \"#1B4CC4\"\n            },\n            children: \"Payments Terms of Service\"\n          }), \",\", \" \", /*#__PURE__*/_jsx(\"u\", {\n            className: [font[\"weight--500\"]].join(\" \"),\n            style: {\n              color: \"#1B4CC4\"\n            },\n            children: \"Privacy Policy\"\n          }), \", and\", \" \", /*#__PURE__*/_jsx(\"u\", {\n            className: [font[\"weight--500\"]].join(\" \"),\n            style: {\n              color: \"#1B4CC4\"\n            },\n            children: \"Nondiscrimination Policy\"\n          }), \".\"]\n        })\n      }), /*#__PURE__*/_jsx(\"div\", {\n        className: [space[\"m-t--16\"]].join(\" \"),\n        children: /*#__PURE__*/_jsx(Button, {\n          variant: \"primary\",\n          title: \"Agree and continue\",\n          loading: loading,\n          block: true\n        })\n      })]\n    })\n  });\n};","map":null,"metadata":{},"sourceType":"module"}